Start eventu:
1. ak je uz event v timeline, cize uz bezi
   - odmaze sa - toto zaisti, ze ak event znovaspustim (co je dovolene), tak mevzniknnu duplikaty eventu v timeline
   - ak je event prvy v timeline
     - TOTO JE CELE ZLE
	   - poposuvaju sa _fkProfileEndActivated po timeline smerom k prvemu (???)
	   - po poposuvani ma prvy event v timeline _fkProfileEndActivated nastaveny na _fkProfileStart vymazaneho eventu
	     takze treba nastavit fkProfileEndActivated na _fkProfileEndActivated vymazaneho eventu
     - MA SA SPRAVIT
       - nic neposuvame, len updatneme end profile prveho na ten, co ho mal ten odmazany 
   - ak je event v strede timeline - TOTO JE NOVE
     - nic neposuvame, len updatneme end profile toho co bol za vymazanym na start profil eventu pred nim 
   - ak je event na konci timeline
     - netreba robit nic
2. ak je prvy v timeline
   - do timeline sa da do _fkProfileEndActivated prave aktivovany profil
2. ak uz v timeline nieco je
   - do timeline sa da do _fkProfileEndActivated _fkProfileStart posledneho eventu v timeline
3. event sa proda na koniec timeline

End eventu:
1. ak je uz event v timeline, cize uz bezi, odmaze sa 
   - ak je event prvy v timeline
     - TOTO JE CELE ZLE
	   - poposuvaju sa _fkProfileEndActivated po timeline smerom k prvemu (???)
	   - po poposuvani ma prvy event v timeline _fkProfileEndActivated nastaveny na _fkProfileStart vymazaneho eventu
	     takze treba nastavit fkProfileEndActivated na _fkProfileEndActivated vymazaneho eventu
     - MA SA SPRAVIT
       - nic neposuvame, len updatneme end profile prveho na ten, co ho mal ten odmazany 
   - ak je event v strede timeline - TOTO JE NOVE
     - nic neposuvame, len updatneme end profile toho co bol za vymazanym na start profil eventu pred nim 
   - ak je event na konci timeline
     - netreba robit nic
2. aktivujeme _fkProfileEndActivated eventu, co skoncil, ale len ak je na konci timeline


--------------------------------------------------------------------------

Vymazavanie eventu z timeline:

P0  - E1 P1 P0, E2 P2 P1, E3 P3 P2, E4 P4 P3
P0  -           E2 P2 P1, E3 P3 P2, E4 P4 P3
-------------------------------------------- 
P0  -           E2 P2 P0, E3 P3 P2, E4 P4 P3 - nic neposuvame, len updatneme end profile prveho na ten, co ho mal ten odmazany
P0  -           E2 P2 P0, E3 P3 P1, E4 P4 P2 - po starom, cele zle!!!
============================================
P0  - E1 P1 P0, E2 P2 P1, E3 P3 P2, E4 P4 P3
P0  - E1 P1 P0,         , E3 P3 P2, E4 P4 P3
--------------------------------------------
P0  - E1 P1 P0,         , E3 P3 P1, E4 P4 P3 - nic neposuvame, len updatneme end profile toho co bol za vymazanym na start profil eventu pred nim
============================================
P0  - E1 P1 P0, E2 P2 P1, E3 P3 P2, E4 P4 P3
P0  - E1 P1 P0, E2 P2 P1, E3 P3 P2,         
--------------------------------------------
P0  - E1 P1 P0, E2 P2 P1, E3 P3 P2,          - nic nerobime

----------------------------------------------------------------------------

Bluetooth

Pravdepodobne budeme musiet rozlisovat bluetooth profile:

Primo zisiti, aky profil je pripojeny sa da len pre 
A2DP        = Advanced Audio Distribution
HEADSET     = Headset
HEALTH      = Health Thermometer 

Toto nejde zistit, ci je pripojene. Zjavne to tu funguje inac
GATT        = Bluetooth Low Energy
GATT_SERVER = Bluetooth Low Energy

Spravme to tak, ze cez broadcast receiver si zistim, co sa pripojilo/odpojilo.
Na toto uz mam receiver BluetoothConnectionBroadcastReceiver.
Ten mi bude ukladat zariadenia, ktore sa pripojili.
Bude to List<BluetoothDevice>. 
Ak sa pripoji, pohladam jeho adresu v liste a ak tam nie je, pridame do listu.
List inicializujeme pri prvom starte aplikacie. 
!!! Tu moze byt problem, ze nedostanem pri starte ak prave bude nieco pripojene. !!!

Potom spravime scanner. Na to uz mam receiver BluetoothScanAlarmBroadcastReceiver. 
Ten bude vyuzivat zoznam pripojenych zariadeni z receivera BluetoothConnectionBroadcastReceiver.
Scanner bude scanovat bluetooth zariadenia.
Ak scanujeme zariadenie, ktore uz je v zozname pripojenych, nezapnemam scan. Ako pri Wifi.
Na scanovanie este treba spravit receiver na prijem najdeneho zariadenia.
Aj tu budeme ukladat zoznam do scanResults.
Tu je problem v tom, ze tu nedostavame naraz cely zoznam, ale postupne jedno zariadenie za druhym.
Cize treba vymysliet mechanizmus dvoch zoznamov. 
Jeden bude temporary, ktory sa vymaze na zaciatku scanu a postupne sa bude naplnat.
Druhy sa po ukonceni scanu naplni tym temporary a tenot sa bude pouzivat podobne ako scanResult pri Wifi.


Ak sa odpoji, pohladam jeho adresu a ak tam je, vymazem ho z listu.


